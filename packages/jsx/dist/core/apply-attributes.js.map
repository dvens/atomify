{"version":3,"file":"apply-attributes.js","sourceRoot":"","sources":["../../src/core/apply-attributes.ts"],"names":[],"mappings":"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","sourcesContent":["import { isCustomElement } from '../utilities';\n\nconst BOOLEAN_ATTRS = [\n    'async',\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'multiple',\n    'muted',\n    'novalidate',\n    'nowrap',\n    'open',\n    'readonly',\n    'required',\n    'reversed',\n    'selected',\n    'playsinline',\n];\n\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\n\nexport const applyAttributes = ( element: any, vnodeData: object ) => {\n\n    const attributes = Object.keys( vnodeData || {} );\n\n    attributes.forEach(( attribute ) => {\n        const attributeName = (attribute as keyof typeof vnodeData);\n        const attributeValue = vnodeData[attributeName];\n\n        let lAttributeName = attribute.toLowerCase();\n\n        if( attributeName === 'style' ) {\n\n            return Object.assign( element.style, attributeValue )\n\n        } else if ( attributeName === 'class' || attributeName === 'className' ) {\n\n            return element.setAttribute('class', attributeValue );\n\n        } else if ( attributeName === 'htmlFor' ) {\n\n            return element.setAttribute('for', attributeValue);\n\n        } else if ( ( attributeName as string ).indexOf('on') === 0 ) {\n\n            const eventName = ( attributeName as string ).substr(2).toLowerCase();\n            return element.addEventListener( eventName, attributeValue );\n\n        } else if(\n            isCustomElement( element ) &&\n            !( attributeName as string ).includes('-') &&\n            typeof element.constructor.properties !== 'undefined' &&\n            element.constructor.properties.has(attributeName)\n        ) {\n\n            return element[attributeName] = attributeValue;\n\n        } else if( attributeName === 'dangerouslySetInnerHTML' ) {\n\n            return element.innerHTML = attributeValue;\n\n        } else if( BOOLEAN_ATTRS.includes(attributeName) ) {\n\n            if(attributeValue) {\n\n                return element.setAttribute(attributeName, '');\n\n            } else {\n\n                return element.removeAttribute(attributeName);\n\n            }\n\n        } else if( typeof attributeValue !== 'function' ) {\n            if (lAttributeName !== (lAttributeName = lAttributeName.replace(/^xlink\\:?/, ''))) {\n\n                if (attributeValue == null || attributeValue === false) {\n\n                    return element.removeAttributeNS(\n                        XLINK_NS,\n                        lAttributeName.toLowerCase()\n                    );\n\n                } else {\n\n                    return element.setAttributeNS(\n                        XLINK_NS,\n                        lAttributeName.toLowerCase(),\n                        attributeValue\n                    );\n\n                }\n\n            }  else if (attributeValue == null || attributeValue === false) {\n\n                return element.removeAttribute(attributeName);\n\n            } else {\n\n                const isBooleanValue = typeof attributeValue === 'boolean';\n                return element.setAttribute(attributeName, isBooleanValue ? '' : attributeValue );\n\n            }\n        }\n\n    });\n\n    return element;\n\n};"]}